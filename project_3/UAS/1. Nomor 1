/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var nomor1 = ee.FeatureCollection("projects/ee-21611008/assets/1_A");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// //# Nomor 1A
// Define the UTM projection for Zone 49S
var utmProjection = 'EPSG:32749';

// Reproject the shapefile to UTM 49S
var nomor1_a = nomor1.map(function(feature) {
  return feature.transform(utmProjection, 1);
});

// Print the result to check the reprojected shapefile
print(nomor1_a);

// Add the shapefile to the map to visualize
Map.addLayer(nomor1_a, {}, '1_a');

// ----------------------------------------------------------------------------------//
// //# Nomor 1B
// Menampilkan image collecction [koleksi gambar]
// var landsat8 = ee.ImageCollection("LANDSAT/LC08/C02/T1_L2")
//   .filterDate('2020-01-01','2024-05-31') //filter waktu
//   .filterBounds(nomor1_a) //filter limitasi area
//   .filter(ee.Filter.lt('CLOUD_COVER',10)); 
//   // petik satu karena ingin menampilkan parameter
//   // petik dua karena dari direktori
// print(landsat8) // menampilkan di console
// Map.addLayer(landsat8,{},'Landsat 8') // tertampil semua citra


// menampilkan hasil dari 1 citra satelit
var nomor1b_landsat = ee.Image("LANDSAT/LC08/C02/T1_L2/LC08_120065_20200627") //27 Juni 2020
.clip(nomor1) //gambarnya dipotong dengan batasan ngaglik
.select('SR_B4')
print(nomor1b_landsat)
Map.addLayer(nomor1b_landsat,{},'image') // tertampil satu citra

// //Eksport Data
Export.image.toDrive({
  image: nomor1b_landsat,
  description: 'LANDSAT_RED',
  folder: 'GEE_REMOTE SENSING',
  scale: 30,
  crs: 'EPSG: 32749',
  region: nomor1, // seluas geometry
  fileFormat: 'GeoTIFF'
  });


//------------------------------------------------------------//
// // Sentinel
// // Menampilkan image collecction [koleksi gambar]
// var sentinel2 = ee.ImageCollection("COPERNICUS/S2_SR_HARMONIZED")
//   .filterDate('2020-01-01','2024-05-31') //filter waktu
//   .filterBounds(ngaglik) //area
//   .filterMetadata('CLOUDY_PIXEL_PERCENTAGE', 'less_than', 5);  // Filter berdasarkan tutupan awan < 10%
// print('Filtered Sentinel-2 collection:', sentinel2); // Menampilkan informasi koleksi gambar di console
// // Map.addLayer(sentinel2,{},'sentinel 2') // tertampil semua citra
// Map.addLayer(ngaglik,{},'ngaglik') // menampilkan shapefile ngaglik

// menampilkan hasil dari 1 citra satelit pada tanggal tertentu
// var image = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
// .clip(ngaglik)
// print(image)
// Map.addLayer(image,{},'image') // tertampil satu citra

// Menampilkan Band
// Menampilkan Band RED
// var RED = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
// .clip(ngaglik) //gambarnya dipotong dengan batasan kecamatan ngaglik
// .select('B4') //diambil Band Red
// print(RED)
// Map.addLayer(RED,{},'RED') // tertampil satu citra

// Menampilkan Band NIR
// var NIR = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
// .clip(ngaglik) //gambarnya dipotong dengan batasan kecamatan ngaglik
// .select('B8') //diambil Band Green
// print(NIR)
// Map.addLayer(NIR,{},'NIR') // tertampil satu citra


// Membuat Visualiasasi Warna
// var RED = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
// .clip(ngaglik) //gambarnya dipotong dengan batasan kota semarang
// .select('B4') //diambil Band Red
// print(RED)
// Map.addLayer(RED,{},'RED') // tertampil satu citra

// var min = ee.Number(RED.reduceRegion({
// reducer: ee.Reducer.min(),
// scale: 30,
// maxPixels: 1e9
// }).values().get(0));
// print(min, 'minimum');

// //Maximum Value
// var max = ee.Number(RED.reduceRegion({
// reducer: ee.Reducer.max(),
// scale: 30,
// maxPixels: 1e9
// }).values().get(0));
// print(max, 'maximum');

// print(RED); 
// var paramvis = {min:1000,max:8000,pallete:["black","white"]};
// Visualisasi Hasil Citra B4
// Map.addLayer(RED,paramvis,'RED',1,1);
// Map.addLayer(RED, {min: 2000, max: 5000, palette: ['green','white','red']}, 'RED',1,0.1);
// Map.addLayer(RED, {min: 1000, max: 5000, palette: ['386641','6a994e','a7c957','f2e8cf','bc4749']}, 'RED',1,1);


// ----------------------------------------------------------------------------------------------
// Mengambil Gambar Terbaik dengan Sentinel 2
// Menampilkan image collecction [koleksi gambar]
// var sentinel2 = ee.ImageCollection("COPERNICUS/S2_SR_HARMONIZED")
//   .filterDate('2020-01-01','2024-05-31') //filter waktu
//   .filterBounds(nomor1) //area
//   .filterMetadata('CLOUDY_PIXEL_PERCENTAGE', 'less_than', 5);  // Filter berdasarkan tutupan awan < 10%
// print('Filtered Sentinel-2 collection:', sentinel2); // Menampilkan informasi koleksi gambar di console
// Map.addLayer(sentinel2,{},'sentinel 2') // tertampil semua citra

// Memilih gambar dengan tutupan awan paling sedikit
// var leastCloudy = sentinel2
// // .sort('CLOUDY_PIXEL_PERCENTAGE')
// // .first();
// // Menampilkan informasi gambar dengan tutupan awan paling sedikit di console
// print('Awan Paling Sedikit:', leastCloudy); 

// Menambahkan gambar dengan tutupan awan paling sedikit ke peta
// menampilkan hasil dari 1 citra satelit pada tanggal tertentu
// var image = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
// .clip(nomor1)
// print(image)
// Map.addLayer(image,{},'image') // tertampil satu citra
// // Map.addLayer(image,imageVisParam2,'image') // tertampil satu citra

// Menampilkan Band RED
var RED = ee.Image("COPERNICUS/S2_SR_HARMONIZED/20200727T023549_20200727T025129_T49MDM")
.clip(nomor1) //gambarnya dipotong dengan batasan kecamatan ngaglik
.select('B4') //diambil Band Red
print(RED)
// Map.addLayer(RED,imageVisParam3,'RED') // tertampil satu citra

// //Eksport Data
Export.image.toDrive({
  image: RED,
  description: 'SENTINEL_RED',
  folder: 'GEE_REMOTE SENSING',
  scale: 10,
  crs: 'EPSG: 32749',
  region: nomor1, // seluas geometry
  fileFormat: 'GeoTIFF'
  });

// // // //Zoom ke ROI (Region of Interest (ROI))
// // // //Memudahkan tampilan awal
// Map.centerObject(ngaglik,15);

  



 
 





 
 



